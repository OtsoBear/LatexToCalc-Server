<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Portfolio of Otso Veisterä, an AI engineer and founder building production-ready solutions and pushing the boundaries of AI.">
    <title>Otso Veisterä | Portfolio</title>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YD6KGWH7Y6"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-YD6KGWH7Y6');
    </script>
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "sg1pyt2jlh");
    </script>
    <!-- Preload the translation page for instant navigation -->
    <link rel="preload" href="https://otso.veistera.com/translate" as="document">
    <script type="importmap">
        {
          "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.174.0/build/three.module.js"
          }
        }
    </script>
    <script src="https://unpkg.com/es-module-shims@1.5.0/dist/es-module-shims.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #000;
            background: radial-gradient(ellipse at center, rgba(10, 10, 25, 1) 0%, #000 70%);
            color: #fff;
            font-family: 'Space Mono', monospace;
            overflow-x: hidden;
            height: 400vh;
            cursor: default;
            font-size: 14px; /* Reduced base font size */
            --section-scale: 0.85; /* Reduced scale factor */
        }
        
        canvas {
            position: fixed;
            top: 0;
            left: 0;
            z-index: -1;
        }
        
        .section {
            position: fixed;
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: all 0.8s ease;
            pointer-events: none;
            z-index: 1;
            padding: 0 10px; /* Add padding for better content visibility */
            box-sizing: border-box; /* Include padding in width calculation */
            transform: scale(var(--section-scale)); /* Scale down all sections */
            transform-origin: center center;
        }
        
        .section.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            max-width: 1000px; /* Reduced from 1200px */
            gap: 15px; /* Further reduced from 20px */
            padding: 0 5px;
            margin-top: 15px; /* Reduced from 20px */
            width: 100%; /* Ensure grid takes full width */
            box-sizing: border-box; /* Include padding in width calculation */
            transform-origin: top center;
        }
        
        .grid-item {
            position: relative;
            min-height: 180px; /* Reduced from 200px */
            transform: translateY(30px); /* Less movement */
            opacity: 0;
            transition: all 0.9s cubic-bezier(0.23, 1, 0.32, 1);
            display: flex;
            flex-direction: column;
        }
        
        .section.active .grid-item {
            transform: translateY(0);
            opacity: 1;
            transition-delay: calc(var(--delay) * 0.15s);
        }
        
        .glowing-text {
            position: relative;
            display: inline-block;
            color: #fff;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
            padding: 0 5px;
        }
        
        .glowing-text:after {
            content: '';
            position: absolute;
            width: 0;
            height: 1px;
            bottom: 0;
            left: 0;
            background: linear-gradient(90deg, transparent, #a0a0ff, transparent);
            transition: width 0.5s ease;
        }
        
        .glowing-text:hover:after {
            width: 100%;
        }
        
        .text-reveal {
            position: relative;
            overflow: hidden;
        }
        
        .text-reveal:after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, #000, transparent);
            animation: text-reveal 1.5s forwards;
            animation-delay: calc(var(--delay) * 0.3s);
        }
        
        @keyframes text-reveal {
            0% {
                left: 0;
                width: 100%;
            }
            100% {
                left: 100%;
                width: 0;
            }
        }
        
        h1 {
            font-size: clamp(2rem, 4vw, 3.5rem); /* Reduced font size */
            margin: 0 0 5px 0; /* Less margin */
            letter-spacing: 8px; /* Less letter spacing */
            text-transform: uppercase;
            font-weight: 200;
            text-shadow: 0 0 20px rgba(160, 160, 255, 0.5);
            line-height: 1.2;
            text-align: center;
            opacity: 0.9;
            background: linear-gradient(90deg, #fff, #a0a0ff, #fff);
            background-size: 200% auto;
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            animation: shine 8s linear infinite;
        }
        
        @keyframes shine {
            to {
                background-position: 200% center;
            }
        }
        
        .terminal-box {
            background: rgba(10, 10, 25, 0.75);
            border: 1px solid rgba(160, 160, 255, 0.3);
            border-radius: 5px;
            padding: 15px; /* Reduced from 20px */
            font-family: 'Space Mono', monospace;
            color: #a0a0ff;
            max-width: 100%;
            position: relative;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5), 0 0 30px rgba(160, 160, 255, 0.2);
            transform: perspective(500px) rotateX(2deg); /* Reduced rotation angle */
            transition: all 0.3s ease;
            backdrop-filter: blur(6px);
            z-index: 2; /* Ensure terminal boxes appear above constellation */
            font-size: 1rem; /* Increased from 0.9rem */
            height: 100%;
        }
        
        .terminal-box:hover {
            transform: perspective(500px) rotateX(0);
            border-color: rgba(160, 160, 255, 0.6);
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.5), 0 0 40px rgba(160, 160, 255, 0.3);
        }
        
        .terminal-box:before {
            content: '⦿  ⦿  ⦿';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 30px;
            background: rgba(160, 160, 255, 0.1);
            border-bottom: 1px solid rgba(160, 160, 255, 0.2);
            display: flex;
            align-items: center;
            padding-left: 10px;
            font-size: 14px;
            line-height: 30px;
            color: rgba(255, 255, 255, 0.2);
        }
        
        .terminal-content {
            margin-top: 12px; /* Reduced from 15px */
            line-height: 1.5; /* Reduced from 1.6 */
        }
        
        .terminal-tag {
            color: #7a7aea;
            font-size: 0.95rem; /* Slightly smaller than content */
        }
        
        .terminal-command {
            color: #64ff64;
            opacity: 0.7; /* Reduced prominence */
            font-size: 0.95rem; /* Slightly smaller than content */
        }
        
        .terminal-string {
            color: #ff9e64;
            font-size: 1rem;
        }
        
        .terminal-comment {
            color: #9e9e9e; /* Brightened from #626262 */
            font-style: italic;
        }
        
        .terminal-output {
            color: #ffffff;
            font-size: 1.05rem;
            line-height: 1.7;
        }
        
.terminal-output span {
    padding-left: 10px; /* Apply padding only to individual spans */
}


        .blink {
            animation: blink 1s step-end infinite;
            margin-left: 5px;
        }
        
        @keyframes blink {
            50% { opacity: 0; }
        }
        
        .constellation {
            position: absolute; /* Changed from relative to absolute */
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            margin-bottom: 0; /* Removed margin */
            opacity: 0.5; /* Reduced opacity */
            z-index: 1; /* Lower z-index than terminal boxes */
            pointer-events: none; /* Allow clicks to pass through */
        }
        
        .star-point {
            position: absolute;
            width: 3px;
            height: 3px;
            border-radius: 50%;
            background-color: #fff;
            box-shadow: 0 0 8px rgba(160, 160, 255, 0.8);
            animation: star-pulse 3s infinite;
            z-index: 1;
        }
        
        .constellation-line {
            position: absolute;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(160, 160, 255, 0.5), transparent);
            transform-origin: left center;
            z-index: 0;
            opacity: 0.6;
        }
        
        @keyframes star-pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.5); opacity: 0.7; }
        }
        
        .mystery-text {
            position: relative;
            margin: 12px 0; /* Reduced from 20px */
            padding: 12px; /* Reduced from 15px */
            background: rgba(10, 10, 25, 0.7);
            border-radius: 5px;
            border-left: 3px solid #a0a0ff;
            font-style: italic;
            color: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(6px);
            max-width: 700px; /* Reduced from 800px */
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            width: 85%; /* Reduced from 90% */
            overflow: visible; /* Ensure text doesn't get cut off */
            z-index: 2; /* Ensure text appears above background elements */
            font-size: 0.9rem; /* Slightly reduced font size */
            box-sizing: border-box; /* Include padding in width calculation */
        }
        
        .mystery-text:before {
            content: '"';
            font-size: 3em; /* Reduced from 4em */
            position: absolute;
            top: -15px; /* Adjusted from -20px */
            left: 10px;
            color: rgba(160, 160, 255, 0.3);
        }
        
        .mystery-text:after {
            content: '"';
            font-size: 3em; /* Reduced from 4em */
            position: absolute;
            bottom: -45px; /* Adjusted from -60px */
            right: 10px;
            color: rgba(160, 160, 255, 0.3);
        }
        
        .skill {
            display: inline-block;
            padding: 4px 12px;
            margin: 4px;
            border-radius: 20px;
            font-size: 0.8rem;
            color: #d4d4ff;
            border: 1px solid rgba(160, 160, 255, 0.3);
            background-color: rgba(160, 160, 255, 0.15);
            transition: all 0.3s ease;
        }
        
        .skill:hover {
            background-color: rgba(160, 160, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(160, 160, 255, 0.1);
        }
        
        .highlight {
            color: #a0a0ff;
            font-weight: normal;
        }
        
        .project-link {
            text-decoration: none;
            color: #a0a0ff;
            display: inline-block;
            padding: 6px 18px; /* Increased padding */
            border: 1px solid rgba(160, 160, 255, 0.3);
            border-radius: 20px;
            margin-top: 15px;
            transition: all 0.3s ease;
            font-size: 0.9rem; /* Slightly smaller font */
            background-color: rgba(160, 160, 255, 0.1); /* Added background for better visibility */
        }
        
        .project-link:hover {
            background: rgba(160, 160, 255, 0.2);
            border-color: rgba(160, 160, 255, 0.6);
            transform: translateY(-2px);
            box-shadow: 0 3px 10px rgba(160, 160, 255, 0.3);
        }
        
        /* Navigation dots */
        .navigation {
            position: fixed;
            right: 30px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .nav-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .nav-dot:before {
            content: attr(data-label);
            position: absolute;
            right: 25px;
            top: 50%;
            transform: translateY(-50%);
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.8rem;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .nav-dot:hover:before {
            opacity: 1;
        }
        
        .nav-dot.active {
            background-color: white;
            box-shadow: 0 0 10px white;
        }
        
        .scroll-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 2px;
            background: linear-gradient(90deg, #a0a0ff, white);
            z-index: 100;
            transition: width 0.1s;
        }
        
        .scroll-indicator {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.9rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            opacity: 0.7;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 0.3; }
            50% { opacity: 0.8; }
            100% { opacity: 0.3; }
        }
        
        .contact-button {
            display: inline-block;
            margin-top: 20px; /* Reduced from 30px */
            padding: 8px 20px; /* Reduced from 10px 25px */
            background: rgba(10, 10, 25, 0.7);
            border: 1px solid rgba(160, 160, 255, 0.6);
            color: #fff;
            text-decoration: none;
            font-family: 'Space Mono', monospace;
            letter-spacing: 2px;
            border-radius: 30px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            z-index: 1;
            text-transform: uppercase;
            font-size: 0.85rem; /* Reduced from 0.9rem */
        }
        
        .contact-button:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(160, 160, 255, 0.3), transparent);
            transition: all 0.6s ease;
            z-index: -1;
        }
        
        .contact-button:hover:before {
            left: 100%;
        }
        
        .contact-button:hover {
            box-shadow: 0 0 15px rgba(160, 160, 255, 0.5);
            border-color: rgba(160, 160, 255, 0.8);
        }
        
        .translate-button {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 8px 18px;
            background: rgba(10, 10, 25, 0.7);
            border: 1px solid rgba(160, 160, 255, 0.6);
            color: #fff;
            text-decoration: none;
            font-family: 'Space Mono', monospace;
            letter-spacing: 2px;
            border-radius: 20px;
            transition: all 0.3s ease;
            z-index: 100;
            font-size: 0.85rem;
            backdrop-filter: blur(6px);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            text-transform: uppercase;
            overflow: hidden; /* Add this to contain the pseudo-element */
        }
        
        .translate-button:hover {
            background: rgba(160, 160, 255, 0.2);
            border-color: rgba(160, 160, 255, 0.8);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(160, 160, 255, 0.3);
        }
        
        .translate-button:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%; /* Start position */
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(160, 160, 255, 0.3), transparent);
            transition: all 0.6s ease;
            z-index: -1;
        }
        
        .translate-button:hover:before {
            left: 100%; /* End position */
            transition: all 0.6s ease; /* Ensure the animation runs properly */
        }
        
        @import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap');
        
        /* Add media queries for better responsiveness */
        @media screen and (max-width: 768px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
            
            h1 {
                letter-spacing: 5px;
            }
            
            .mystery-text {
                width: 95%;
                padding: 12px; /* Reduced from 15px */
                font-size: 0.9rem; /* Slightly reduced font size */
            }
            
            .terminal-box {
                padding: 12px; /* Adjusted for mobile */
            }
            
            .terminal-output {
                margin-left: 10px; /* Reduced margin on mobile */
            }
        }
    </style>
</head>
<body>
    <!-- Navigation to Translate page -->
    <a href="https://otso.veistera.com/translate" class="translate-button">LaTeXToCalc</a>
    
    <!-- Scroll progress indicator -->
    <div class="scroll-progress" id="scroll-progress"></div>
    
    <!-- Navigation dots -->
    <div class="navigation">
        <div class="nav-dot active" data-section="0" data-label="Identity"></div>
        <div class="nav-dot" data-section="1" data-label="Experience"></div>
        <div class="nav-dot" data-section="2" data-label="Creations"></div>
        <div class="nav-dot" data-section="3" data-label="Connection"></div>
    </div>
    
    <!-- Content sections -->
    <section class="section active" id="section0" data-depth="0">
        <h1>Otso Veisterä</h1>
        
        <div class="mystery-text text-reveal" style="--delay: 1">
            <span class="highlight">An engineer and founder architecting production-ready AI systems from first principles.</span> This fundamental approach was recognized with Finland's national award for the best physics report. Now building scalable SaaS solutions that <span class="highlight">push the boundaries of AI efficiency.</span>
        </div>
        
        <div class="content-grid">
            <div class="grid-item" style="--delay: 2">
                <div class="terminal-box">
                    <div class="terminal-content">
                        <span class="terminal-command">$ whoami</span><br>
                        <span class="terminal-output">founder & ai_engineer</span><br><br>
                        
                        <span class="terminal-command">$ cat skills.txt</span><br>
                        <span class="terminal-output">
                            <span class="skill">Machine Learning</span>
                            <span class="skill">AI Development</span>
                            <span class="skill">Full-Stack Development</span>
                            <span class="skill">SaaS Architecture</span>
                            <span class="skill">Python</span>
                            <span class="skill">Rust</span>
                        </span><br><br>
                        
                        <span class="terminal-command">$ echo $achievements</span><br>
                        <span class="terminal-output">
                            <span>  - Coder of The Year</span><br>
                            <span>  - Young Innovator</span><br>
                            <span style="color: #a0a0ff; font-weight: bold;">  - Best Physics Report in Finland — National Problem-Solving Champion</span><br>
                        </span>
                        <span class="terminal-comment">// Constantly exploring new technologies</span><br>
                        <span class="terminal-command">$ find . -name "curiosity"</span><span class="blink">_</span>
                    </div>
                </div>
            </div>
            
            <div class="grid-item" style="--delay: 3">
                <!-- Moved constellation inside terminal box for better layout -->
                <div class="terminal-box">
                    <div class="constellation" id="constellation"></div>
                    <div class="terminal-content">
                        <span class="terminal-command">$ cat /etc/core_principles.md</span><br>
                        <span class="terminal-output">
                            <span># Core Principles</span><br>
                            <span>- <span class="highlight">Reliability by Design:</span> Architecting systems with graceful degradation and comprehensive testing.</span><br>
                            <span>- <span class="highlight">First-Principles Thinking:</span> Deconstructing complex problems to build robust, fundamental solutions.</span><br>
                            <span>- <span class="highlight">Pragmatism > Dogma:</span> Selecting the right tool for the job, not just the most popular one.</span><br>
                            <span>- <span class="highlight">Execution is Everything:</span> Translating ambitious ideas into production-ready code.</span>
                        </span>
                    </div>
                </div>
            </div>
        </div>
        
        <a href="#" class="contact-button" onclick="scrollToSection(1); return false;">Discover More</a>
    </section>
    
    <section class="section" id="section1" data-depth="1">
        <h1>Experience</h1>
        
        <div class="mystery-text text-reveal" style="--delay: 1">
            <span class="highlight">From award-winning research to production-ready systems.</span> Each experience has been a step toward building robust, scalable, and significant technology.
        </div>
        
        <div class="content-grid">
            <div class="grid-item" style="--delay: 2">
                <div class="terminal-box">
                    <div class="terminal-content">
                        <span class="terminal-command">$ cat experience.log | head</span><br><br>

                        <span class="terminal-tag">[Founder @ Stealth AI Startup]</span> <span class="terminal-comment">// 2024-Present</span><br>
                        <span class="terminal-output">
                            Solely founded and architected a production-ready, multi-provider AI API proxy.<br>
                            Engineered a robust SaaS platform featuring a catch-all universal proxy, a dual authentication system, and graceful degradation with automatic CUDA/CPU fallbacks.
                        </span><br><br>

                        <span class="terminal-tag">[FR8 Maverick]</span> <span class="terminal-comment">// Jun-Aug 2025</span><br>
                        <span class="terminal-output">
                             Selected to be part of the world's first hacker hotel, startup incubator, and research lab, all combined into one. Immersed in an environment dedicated to solving complex problems and building the future.
                        </span><br><br>

                        <span class="terminal-tag">[Planmeca]</span> <span class="terminal-comment">// Jun-Jul 2024</span><br>
                        <span class="terminal-output">
                            Developed AI for 3D medical imaging<br>
                            PyTorch-based segmentation model<br>
                            Improved diagnostic workflows
                        </span><br>
                    </div>
                </div>
            </div>
            
            <div class="grid-item" style="--delay: 3">
                <div class="terminal-box">
                    <div class="terminal-content">
                        <span class="terminal-command">$ grep -A 3 "achievement" career.json</span><br>
                        <span class="terminal-output">
                            {<br>
                            &nbsp;&nbsp;"highlight": "33 bugs identified in one week",<br>
                            &nbsp;&nbsp;"location": "Planmeca internship",<br>
                            &nbsp;&nbsp;"skill": "Exceptional attention to detail"<br>
                            }<br>
                            {<br>
                            &nbsp;&nbsp;"highlight": "Electronics & microcontroller development",<br>
                            &nbsp;&nbsp;"location": "Aalto Design Factory",<br>
                            &nbsp;&nbsp;"skill": "Electrical engineering"<br>
                            }<br>
                            {<br>
                            &nbsp;&nbsp;"highlight": "Finland's top physics report",<br>
                            &nbsp;&nbsp;"location": "Harppi science competition",<br>
                            &nbsp;&nbsp;"skill": "Elite problem-solving abilities"<br>
                            }
                        </span><br>
                        
                        <span class="terminal-command">$ git log --author="Otso" --pretty=format:"%h - %s"</span><span class="blink">_</span>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <section class="section" id="section2" data-depth="2">
        <h1>Projects</h1>
        
        <div class="mystery-text text-reveal" style="--delay: 1">
            <span class="highlight">Ideas materialized through code.</span> Each project represents a challenge overcome, a problem solved, and knowledge gained.
        </div>
        
        <div class="content-grid">
            <div class="grid-item" style="--delay: 2">
                <div class="terminal-box">
                    <div class="terminal-content">
                        <span class="terminal-tag">
                            <a href="https://github.com/OtsoBear/LatexToCalc" target="_blank" rel="noopener"> [LatexToCalc]</a>
                        </span><br>
                        <span class="terminal-output">
                            Translates LaTeX code into formats usable by calculators in Finnish high schools<br>
                            <br>
                            <span class="terminal-comment">// Backend</span><br>
                            Flask-based translation server<br>
                            REST API with multi-endpoint architecture<br>
                            CI/CD with GitHub Actions<br>
                            <br>
                            <span class="terminal-comment">// Frontend</span><br>
                            Chrome extension for seamless integration<br>
                            User-friendly interface for formula conversion
                        </span><br>
                        
                        <span class="terminal-string">
                            "Making complicated math formulas work across different platforms."
                        </span><br>
                        
                        <a href="https://otso.veistera.com/translate" class="project-link">See Project</a>
                    </div>
                </div>
            </div>
            
            <div class="grid-item" style="--delay: 3">
                <div class="terminal-box">
                    <div class="terminal-content">
                        <span class="terminal-tag">
                            [AI Context Optimizer]
                        </span><br>                        
                        <span class="terminal-output">
                            A production-ready API proxy with transparent, proprietary prompt compression.
                            <br><br>
                            <span class="terminal-comment">// Architecture</span><br>
                            Catch-all universal proxy for multi-provider routing using a 5-tier auto-detection system. Includes direct handling of compressed data streams (gzip, brotli).
                            <br><br>
                            <span class="terminal-comment">// Backend & DB</span><br>
                            Built on FastAPI & async SQLAlchemy 2.0 with a dual-schema usage tracking system and a custom singleton service layer.
                            <br><br>
                             <span class="terminal-comment">// Testing & Reliability</span><br>
                            Architected for high reliability with a comprehensive Pytest suite, featuring transaction rollbacks and advanced async fixtures to ensure code quality.
                        </span><br>
                    </div>
                </div>
            </div>
            

        </div>
    </section>
    
    <section class="section" id="section3" data-depth="3">
        <h1>Connect</h1>
        
        <div class="mystery-text text-reveal" style="--delay: 1">
            My focus is on <span class="highlight">building robust, production-ready systems</span> that solve fundamental problems. This journey, from national physics competitions to founding a startup at FR8, is driven by a passion for execution. I'm always looking to connect with fellow engineers, founders, and researchers who are <span class="highlight">building the future.</span>
        </div>
        <div class="content-grid" style="grid-template-columns: 1fr; max-width: 500px;">
            <div class="grid-item" style="--delay: 2">
                <div class="terminal-box">
                    <div class="terminal-content">
                        <span class="terminal-command">$ get_in_touch</span><br>
                        <span class="terminal-output">
                            <span>// Professional Inquiries & Collaboration</span><br>
                            <span>Email: <a href="mailto:otso@veistera.com" class="glowing-text">otso@veistera.com</a></span><br>
                            <span>LinkedIn: <a href="https://www.linkedin.com/in/otso-veistera" class="glowing-text" target="_blank">linkedin.com/in/otso-veistera</a></span><br>
                            <span>GitHub: <a href="https://github.com/OtsoBear" class="glowing-text" target="_blank">github.com/OtsoBear</a></span>
                        </span>
                        <br>
                        <span class="terminal-string">"Let's build something significant."</span><br>
                    </div>
                </div>
            </div>
        </div>
        
        <a href="https://www.linkedin.com/in/otso-veistera" class="contact-button" target="_blank">Connect on LinkedIn</a>
    </section>
    
    <div class="scroll-indicator">Scroll to explore</div>
    
    <script type="module">
        import * as THREE from 'three';
        
        let renderer, scene, camera;
        let instancedStars;
        let timer = {
            lastTime: 0,
            frameInterval: 1000 / 60,
            getDelta: function(currentTime) {
                const elapsed = currentTime - this.lastTime;
                if (elapsed < this.frameInterval) return 0;
                this.lastTime = currentTime - (elapsed % this.frameInterval);
                return elapsed;
            }
        };

        let needsRender = true;
        let lastInteraction = Date.now();
        const IDLE_THRESHOLD = 5000;

        // CHANGE 1: Add variables for scroll velocity
        let scrollY = 0;
        let lastScrollY = 0;
        let scrollVelocity = 0;
        let scrollPositionAccumulator = 0; // This will drive the shader

        let currentSection = 0;
        let targetSection = 0;

        const sectionCoordinates = [
            { x: 0, y: 0, z: 0 },
            { x: 120, y: 30, z: -80 },
            { x: -100, y: -40, z: -160 },
            { x: 0, y: 0, z: -240 }
        ];

        // --- VELOCITY-DRIVEN & COMPLEX SHADER CODE (GLSL) ---
        const vertexShader = `
            attribute vec3 instanceOffset;
            attribute vec3 instanceDrift; // Added for lateral movement
            attribute float instanceScale;
            attribute float parallaxFactor; // Renamed from instanceSpeed.x
            attribute float initialZ;

            uniform float uScrollZ;
            varying float vAlpha;
            varying vec2 vUv;

            void main() {
                vUv = uv;

                // Z-position is driven by the scroll accumulator and parallax
                float zOffset = initialZ - (uScrollZ * parallaxFactor);
                
                // Longer travel distance for looping
                float travelDistance = 4100.0;
                float loopedZ = mod(zOffset, travelDistance) - travelDistance / 2.0;

                // CHANGE 2: Add lateral drift based on scroll position for a swirling effect
                vec3 animatedOffset = vec3(
                    instanceOffset.x + (instanceDrift.x * uScrollZ * 0.01),
                    instanceOffset.y + (instanceDrift.y * uScrollZ * 0.01),
                    loopedZ
                );
                
                vec4 modelViewPosition = modelViewMatrix * vec4(animatedOffset, 1.0);
                modelViewPosition.xyz += position * instanceScale;
                vAlpha = 1.0 - smoothstep(-200.0, 40.0, modelViewPosition.z);

                gl_Position = projectionMatrix * modelViewPosition;
            }
        `;

        const fragmentShader = `
            uniform sampler2D uTexture;
            varying float vAlpha;
            varying vec2 vUv;

            void main() {
                vec4 texColor = texture2D(uTexture, vUv);
                if (texColor.a < 0.1) discard;

                gl_FragColor = vec4(texColor.rgb, texColor.a * vAlpha);
            }
        `;

        function init() {
            createConstellation();
            const isLowEndDevice = navigator.hardwareConcurrency <= 4 || navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i);
            renderer = new THREE.WebGLRenderer({ antialias: false, alpha: true, powerPreference: "high-performance", precision: "lowp" });
            const resolutionScale = isLowEndDevice ? 0.6 : 0.8;
            renderer.setSize(window.innerWidth * resolutionScale, window.innerHeight * resolutionScale);
            renderer.domElement.style.width = '100%';
            renderer.domElement.style.height = '100%';
            renderer.setPixelRatio(1);
            document.body.appendChild(renderer.domElement);
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(65, window.innerWidth / window.innerHeight, 0.1, 5000); // Increased far plane from 2000 to 5000
            camera.position.set(0, 0, 40);
            createInstancedStars(isLowEndDevice);
            setupEventListeners();
            animateWithThrottling();
            updateSectionVisibility();
            ensureTextVisibility();
            applyDeviceSpecificScaling();
            fixScrollSections();
        }

        function createInstancedStars(isLowEndDevice) {
            const totalStars = isLowEndDevice ? 1000 : 2000; // More stars for a denser field
            const starGeometry = new THREE.PlaneGeometry(1, 1);
            const geometry = new THREE.InstancedBufferGeometry();
            geometry.index = starGeometry.index;
            geometry.attributes = starGeometry.attributes;

            const instanceOffsets = new Float32Array(totalStars * 3);
            const initialZs = new Float32Array(totalStars);
            const instanceDrifts = new Float32Array(totalStars * 3); // For lateral drift
            const instanceScales = new Float32Array(totalStars);
            const parallaxFactors = new Float32Array(totalStars);

            // CHANGE 3: Make the starfield much deeper
            const bounds = { x: [-500, 500], y: [-350, 350], z: [-4000, 100] };

            for (let i = 0; i < totalStars; i++) {
                const i3 = i * 3;
                instanceOffsets[i3 + 0] = Math.random() * (bounds.x[1] - bounds.x[0]) + bounds.x[0];
                instanceOffsets[i3 + 1] = Math.random() * (bounds.y[1] - bounds.y[0]) + bounds.y[0];
                instanceOffsets[i3 + 2] = 0;

                initialZs[i] = Math.random() * (bounds.z[1] - bounds.z[0]) + bounds.z[0];
                
                // Populate drift vectors with small random values
                instanceDrifts[i3 + 0] = (Math.random() - 0.5) * 2.0;
                instanceDrifts[i3 + 1] = (Math.random() - 0.5) * 2.0;
                instanceDrifts[i3 + 2] = 0;

                instanceScales[i] = isLowEndDevice ? Math.random() * 1.8 + 1.2 : Math.random() * 2.5 + 1.5;
                
                // CHANGE 4: Exaggerate the parallax for a more dramatic effect
                parallaxFactors[i] = Math.random() * 0.8 + 0.2;
            }

            geometry.setAttribute('instanceOffset', new THREE.InstancedBufferAttribute(instanceOffsets, 3));
            geometry.setAttribute('initialZ', new THREE.InstancedBufferAttribute(initialZs, 1));
            geometry.setAttribute('instanceDrift', new THREE.InstancedBufferAttribute(instanceDrifts, 3));
            geometry.setAttribute('instanceScale', new THREE.InstancedBufferAttribute(instanceScales, 1));
            geometry.setAttribute('parallaxFactor', new THREE.InstancedBufferAttribute(parallaxFactors, 1));

            const material = new THREE.ShaderMaterial({
                uniforms: {
                    uScrollZ: { value: 0.0 },
                    uTexture: { value: createStarTexture() }
                },
                vertexShader,
                fragmentShader,
                transparent: true,
                depthWrite: false,
                blending: THREE.AdditiveBlending,
            });

            instancedStars = new THREE.Mesh(geometry, material);
            
            // --- ADD THIS LINE ---
            instancedStars.frustumCulled = false;
            
            scene.add(instancedStars);
        }

        function createStarTexture() {
            const canvas = document.createElement('canvas');
            canvas.width = 32;
            canvas.height = 32;
            const ctx = canvas.getContext('2d');
            const gradient = ctx.createRadialGradient(16, 16, 0, 16, 16, 16);
            gradient.addColorStop(0, 'rgba(255,255,255,1)');
            gradient.addColorStop(0.2, 'rgba(255,255,255,0.8)');
            gradient.addColorStop(1, 'rgba(255,255,255,0)');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, 32, 32);
            return new THREE.CanvasTexture(canvas);
        }

        // CHANGE 5: Modify the scroll event listener to calculate velocity
        function setupEventListeners() {
            const trackInteraction = () => {
                lastInteraction = Date.now();
                needsRender = true;
            };

            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                
                const isLowEndDevice = navigator.hardwareConcurrency <= 4 || 
                                     navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i);
                const resolutionScale = isLowEndDevice ? 0.6 : 0.8;
                renderer.setSize(window.innerWidth * resolutionScale, window.innerHeight * resolutionScale);
                
                trackInteraction();
            });

            // This is the core of the new velocity system
            window.addEventListener('scroll', () => {
                scrollY = window.scrollY;
                let deltaY = scrollY - lastScrollY;
                lastScrollY = scrollY;
                
                // Add the change in scroll to our velocity, with a sensitivity multiplier
                scrollVelocity += deltaY * 0.02;

                const maxScroll = document.body.scrollHeight - window.innerHeight;
                const scrollPercent = (scrollY / maxScroll) * 100;
                document.getElementById('scroll-progress').style.width = `${scrollPercent}%`;

                const windowHeight = window.innerHeight;
                targetSection = Math.round(scrollY / windowHeight);
                targetSection = Math.max(0, Math.min(3, targetSection));
                
                updateNavigation();
                updateSectionVisibility();

                if (scrollY > 100) { document.querySelector('.scroll-indicator').style.opacity = '0'; }
                trackInteraction();
            }, { passive: true });

            // Track other user interactions
            window.addEventListener('mousemove', trackInteraction);
            window.addEventListener('click', trackInteraction);
            window.addEventListener('keydown', trackInteraction);
            window.addEventListener('touchstart', trackInteraction);
            
            // Handle navigation dot clicks
            document.querySelectorAll('.nav-dot').forEach(dot => {
                dot.addEventListener('click', () => {
                    const sectionIndex = parseInt(dot.dataset.section);
                    scrollToSection(sectionIndex);
                    trackInteraction();
                });
            });
            
            // Update section visibility on page load and resize
            window.addEventListener('load', updateSectionVisibility);
            window.addEventListener('resize', updateSectionVisibility);
        }

        function animateWithThrottling(currentTime = 0) {
            requestAnimationFrame(animateWithThrottling);
            const elapsed = timer.getDelta(currentTime);
            const timeSinceInteraction = Date.now() - lastInteraction;
            if (timeSinceInteraction > IDLE_THRESHOLD && elapsed === 0 && !needsRender) return;

            if (document.visibilityState !== 'hidden') {
                // ADD THIS CHECK to prevent accessing undefined objects
                if (!camera || !renderer) return;

                moveCamera();

                // CHANGE 6: Update the animation based on velocity
                if (instancedStars) {
                    // Update the accumulated position with the current velocity
                    scrollPositionAccumulator += scrollVelocity;
                    
                    // Apply friction/decay to the velocity so it slows down smoothly
                    scrollVelocity *= 0.95;

                    // Update the shader with the accumulated position
                    instancedStars.material.uniforms.uScrollZ.value = scrollPositionAccumulator;
                }
                
                renderer.render(scene, camera);
            }
            needsRender = false;
        }

        // Pause rendering when tab is not visible to save resources
        document.addEventListener('visibilitychange', () => {
            if (document.visibilityState === 'hidden') {
                // Nothing needed - our animation loop already checks for visibility
            } else {
                // Resume animation with fresh timer to avoid large jumps
                timer.lastTime = performance.now();
                needsRender = true;
                lastInteraction = Date.now();
            }
        });

        // Add this function to fix section scrolling
        function fixScrollSections() {
            // Set up the page for full-section scrolling
            document.body.style.scrollSnapType = 'y mandatory';
            
            // Make each section take exactly one viewport height
            document.querySelectorAll('.section').forEach(section => {
                section.style.height = '100vh';
                section.style.scrollSnapAlign = 'start';
            });
            
            // Fix the scrollToSection function to properly handle section navigation
            window.scrollToSection = function(index) {
                targetSection = index;
                window.scrollTo({
                    top: index * window.innerHeight,
                    behavior: 'smooth'
                });
                
                // Update section visibility immediately
                updateSectionVisibility();
                
                // Update navigation dots
                updateNavigation();
            };
        }

        function createConstellation() {
            const constellation = document.getElementById('constellation');
            if (!constellation) return;
            
            // Clear any existing elements
            constellation.innerHTML = '';
            
            // Create stars
            const starCount = 12; // Reduced number of stars
            const stars = [];
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.className = 'star-point';
                
                // Random position within the container but avoid center area
                let left, top;
                
                // Distribute stars more towards edges to avoid center text
                if (Math.random() < 0.5) {
                    left = Math.random() * 30 + 5; // Left side
                } else {
                    left = Math.random() * 30 + 65; // Right side
                }
                
                // Top or bottom positioning
                if (Math.random() < 0.5) {
                    top = Math.random() * 30 + 5; // Top area
                } else {
                    top = Math.random() * 30 + 65; // Bottom area
                }
                
                star.style.left = `${left}%`;
                star.style.top = `${top}%`;
                star.style.animationDelay = `${Math.random() * 2}s`;
                
                constellation.appendChild(star);
                stars.push({ left, top, element: star });
            }
            
            // Create fewer lines between stars
            for (let i = 0; i < stars.length - 1; i += 2) { // Skip every other star for fewer lines
                if (Math.random() < 0.5) { // 50% chance to create a line
                    const star1 = stars[i];
                    const star2 = stars[i + 1];
                    
                    const line = document.createElement('div');
                    line.className = 'constellation-line';
                    
                    // Position and rotate the line
                    const dx = star2.left - star1.left;
                    const dy = star2.top - star1.top;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    const angle = Math.atan2(dy, dx);
                    
                    line.style.width = `${distance}%`;
                    line.style.left = `${star1.left}%`;
                    line.style.top = `${star1.top}%`;
                    line.style.transform = `rotate(${angle}rad)`;
                    
                    constellation.appendChild(line);
                }
            }
        }
        
        function updateNavigation() {
            document.querySelectorAll('.nav-dot').forEach((dot, index) => {
                dot.classList.toggle('active', index === targetSection);
            });
        }
        
        function updateSectionVisibility() {
            if (window._lastActiveSection === targetSection) return;
            
            document.querySelectorAll('.section').forEach((section, index) => {
                if (index === targetSection) {
                    section.classList.add('active');
                } else {
                    section.classList.remove('active');
                }
            });
            
            window._lastActiveSection = targetSection;
        }
        
        function scrollToSection(index) {
            window.scrollTo({
                top: index * window.innerHeight,
                behavior: 'smooth'
            });
        }
        
        function moveCamera() {
            currentSection += (targetSection - currentSection) * 0.05;
            
            const index = Math.floor(currentSection);
            const nextIndex = Math.min(3, index + 1);
            const fraction = currentSection - index;
            
            const currentCoord = sectionCoordinates[index];
            const nextCoord = sectionCoordinates[nextIndex];
            
            const targetX = currentCoord.x + (nextCoord.x - currentCoord.x) * fraction;
            const targetY = currentCoord.y + (nextCoord.y - currentCoord.y) * fraction;
            const targetZ = currentCoord.z + (nextCoord.z - currentCoord.z) * fraction;
            
            camera.position.x += (targetX - camera.position.x) * 0.05;
            camera.position.y += (targetY - camera.position.y) * 0.05;
            camera.position.z += (targetZ - camera.position.z) * 0.05;
            
            camera.lookAt(targetX, targetY, targetZ - 100);
            
            rotateCamera();
        }
        
        let mouseX = 0;
        let mouseY = 0;
        document.addEventListener('mousemove', (event) => {
            mouseX = (event.clientX / window.innerWidth) * 2 - 1;
            mouseY = (event.clientY / window.innerHeight) * 2 - 1;
        });
        
        function rotateCamera() {
            camera.position.x += (mouseX * 3 - camera.position.x) * 0.005;
            camera.position.y += (-mouseY * 3 - camera.position.y) * 0.005;
            
            camera.lookAt(camera.position.x, camera.position.y, camera.position.z - 100);
        }
        
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                // ADD THIS CHECK to prevent accessing undefined objects
                if (!camera || !renderer) return;

                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
                
                applyDeviceSpecificScaling();
            }, 250);
        });
        
        function applyDeviceSpecificScaling() {
            const isMobile = window.innerWidth < 900;
            
            if (isMobile) {
                document.documentElement.style.setProperty('--section-scale', '0.3');
            } else {
                const scale = Math.min(0.9, Math.max(0.8, window.innerWidth / 1440));
                document.documentElement.style.setProperty('--section-scale', scale.toString());
            }
        }

        function ensureTextVisibility() {
            document.querySelectorAll('.mystery-text').forEach(el => {
                el.style.maxHeight = 'none';
                el.style.height = 'auto';
            });
            
            document.querySelectorAll('.grid-item').forEach(item => {
                item.style.minHeight = 'auto';
            });
        }
        
        window.addEventListener('load', init);
    </script>
</body>
</html>